{% macro pagination_widget(currentPage, pages, endpoint) %}
    <nav aria-label="Page navigation">
        <ul class="pagination pg-blue justify-content-center">
            {% if currentPage == 1 %}
                <li class="page-item disabled"><a class="page-link" href="#">First</a></li>
            {% else %}
                <li class="page-item"><a class="page-link" href="{{ url_for(endpoint, page = 1) }}">First</a></li>
            {% endif %}

            {% if currentPage > 5 %}
                {% set i = currentPage - 4 %}
            {% else %}
                {% set i = 1 %}
            {% endif %}

            {% if i != 1 %}
                <li class="page-item disabled"><a class="page-link" href="#">...</a></li>
            {% endif %}

            {% for p in range(i, pages + 1) %}
                {% if p <= currentPage + 4 and p <= pages %}
                    {% if p == currentPage %}
                        <li class="page-item active"><a class="page-link" href="#">{{ p }}</a></li>
                    {% else %}
                        <li class="page-item">
                            <a class="page-link" href="{{ url_for(endpoint, page = p ) }}">{{ p }}</a>
                        </li>
                    {% endif %}

                    {% if p == currentPage + 4 and p < pages %}
                        <li class="page-item disabled"><a class="page-link" href="#">...</a></li>
                    {% endif %}
                {% endif %}

                {% set i = i + 1 %}
            {% endfor %}

            {% if currentPage == pages %}
                <li class="page-item disabled"><a class="page-link" href="#">Last</a></li>
            {% else %}
                <li class="page-item"><a class="page-link" href="{{ url_for(endpoint, page = pages) }}">Last</a></li>
            {% endif %}
        </ul>
    </nav>
{% endmacro %}
